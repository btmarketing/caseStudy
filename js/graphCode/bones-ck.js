////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
function startBones(){bones_vis.selectAll("path").transition().duration(1e3).attr("d",bones_arc)}function endBones(){bones_vis.selectAll("path").attr("d",bones_arcStart);bones_vis.selectAll("text").attr("opacity",0)}var bonesDisplay=!1;setInterval(function(){if(document.getElementById("bonesGraph").offsetWidth){if(!bonesDisplay){bonesDisplay=!0;startBones()}}else if(bonesDisplay){bonesDisplay=!1;endBones()}},500);var bones_w=unitSize*4-gutter*2,bones_h=unitSize*2-gutter*2,bones_r=80,color=d3.scale.category20c(),vas=d3.select("#bonesGraph").append("svg:svg").attr("id","bonesSVG"),bones_data=[{label:"Other",value:64},{label:"BitTorrent",value:36}],bones_vis=d3.select("#bonesSVG").data([bones_data]).attr("width",bones_w).attr("height",bones_h).append("svg:g").attr("transform","translate("+bones_w/2+","+bones_h/2+")"),bones_arc=d3.svg.arc().outerRadius(bones_r),bones_arcBig=d3.svg.arc().outerRadius(bones_r+10),bones_arcSmall=d3.svg.arc().outerRadius(bones_r-5),bones_arcStart=d3.svg.arc().outerRadius(bones_r-bones_r),bones_pie=d3.layout.pie().value(function(e){return e.value}),bones_arcs=bones_vis.selectAll("g.slice").data(bones_pie).enter().append("svg:g").attr("class",function(e){return e.value<50?"slice bt":"slice other"}).on("mouseover",function(){bones_vis.selectAll("g.bt").select("path").transition().duration(300).attr("d",bones_arcBig);bones_vis.selectAll("g.other").select("path").transition().duration(300).attr("d",bones_arcSmall);bones_vis.selectAll("text").transition().duration(400).attr("opacity",1)}).on("mouseout",function(){bones_vis.selectAll("g.bt").select("path").transition().duration(200).attr("d",bones_arc);bones_vis.selectAll("g.other").select("path").transition().duration(200).attr("d",bones_arc);bones_vis.selectAll("text").transition().duration(200).attr("opacity",0)});bones_arcs.append("svg:path").attr("fill",function(e){return e.value===36?"rgb(125,109,180)":"rgb(145,129,200)"}).attr("d",bones_arcStart);bones_arcs.append("svg:text").attr("transform",function(e){e.innerRadius=0;e.outerRadius=bones_r;return"translate("+bones_arc.centroid(e)+")"}).attr("fill","white").attr("opacity",0).attr("text-anchor","middle").attr("fontSize","12px").attr("font-family","Helvetica").attr("x",-10).text(function(e,t){return bones_data[t].label});