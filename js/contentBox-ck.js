////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
function ContentBox(e){this.type=dimensions[e.className];this.x;this.y;this.width=this.type.width*unitSize;this.height=this.type.height*unitSize;this.sinCount=-Math.PI*.5;this.sinStepUp=Math.random()*.02+.02;this.sinStepDown=.2;this.type.name==="title"&&(this.sinStepUp=.2);this.growing=!1;this.shrinking=!1;var t=Math.floor(Math.random()*150);this.color="rgba("+t+","+t+","+t+",0.5)";this.el=e;this.el.style.backgroundColor=this.color;this.el.className+=" contentBox";this.el.style.width="0px";this.el.style.height="0px";this.type.name==="title"&&(this.el.style.lineHeight=this.width/2-gutter+"px");this.changePosition();this.updateDOM();this.hideKids()}ContentBox.prototype.updateSize=function(){if(this.growing){this.sinCount+=this.sinStepUp;if(this.sinCount>=Math.PI*.5){this.sinCount=Math.PI*.5;this.growing=!1;this.showKids()}this.updateDOM()}else if(this.shrinking){this.sinCount-=this.sinStepDown;if(this.sinCount<=-Math.PI*.5){this.sinCount=-Math.PI*.5;this.shrinking=!1}this.updateDOM()}};ContentBox.prototype.hideKids=function(){var e=this.el.children;for(var t=0;t<e.length;t++)e[t].style.display="none"};ContentBox.prototype.showKids=function(){var e=this.el.children;for(var t=0;t<e.length;t++)e[t].style.display="inline"};ContentBox.prototype.changePosition=function(e){var t=coordinates[currentCoords][this.type.name].x,n=coordinates[currentCoords][this.type.name].y;this.x=t*unitSize+center.x;this.y=n*unitSize+center.y};var gutter=5;ContentBox.prototype.updateDOM=function(){var e=Math.sin(this.sinCount)*.5+.5,t=Math.floor(this.width*e),n=Math.floor(this.height*e);this.el.style.left=this.x-t/2+gutter+"px";this.el.style.top=this.y-n/2+gutter+"px";this.el.style.width=t-gutter*2+"px";this.el.style.height=n-gutter*2+"px";e>0?this.el.style.display="inline":this.el.style.display="none"};var dimensions={title:{name:"title",width:2,height:1},big:{name:"big",width:4,height:3},rect_1:{name:"rect_1",width:4,height:2},rect_2:{name:"rect_2",width:4,height:2},unit_1:{name:"unit_1",width:1,height:1},unit_2:{name:"unit_2",width:1,height:1},double_1:{name:"double_1",width:2,height:1},double_2:{name:"double_2",width:2,height:1},"long":{name:"long",width:3,height:1}};